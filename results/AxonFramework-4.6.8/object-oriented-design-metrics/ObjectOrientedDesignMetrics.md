# Object Oriented Design Quality Metrics
<br>  

### References
- [Analyze java package metrics in a graph database](https://joht.github.io/johtizen/data/2023/04/21/java-package-metrics-analysis.html)
- [Calculate metrics](https://101.jqassistant.org/calculate-metrics/index.html)
- [jqassistant](https://jqassistant.org)
- [notebook walks through examples for integrating various packages with Neo4j](https://nicolewhite.github.io/neo4j-jupyter/hello-world.html)
- [OO Design Quality Metrics](https://api.semanticscholar.org/CorpusID:18246616)
- [Neo4j Python Driver](https://neo4j.com/docs/api/python-driver/current)





## Incoming Dependencies

Incoming dependencies are also denoted as "Fan-in", "Afferent Couplings" or "in-degree".
These are the ones that use the listed package. 
   
If these packages get changed, the incoming dependencies might be affected by the change. The more incoming dependencies, the harder it gets to change the code without the need to adapt the dependent code (“rigid code”). Even worse, it might affect the behavior of the dependent code in an unwanted way (“fragile code”).
     
#### Table 2
- Show the top 20 packages with the most incoming dependencies
- Set the "incomingDependencies" properties on Package nodes.




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>packageName</th>
      <th>incomingDependencies</th>
      <th>incomingDependenciesWeight</th>
      <th>incomingDependentTypes</th>
      <th>incomingDependentInterfaces</th>
      <th>incomingDependentPackages</th>
      <th>incomingDependentArtifacts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>org.axonframework.test</td>
      <td>16</td>
      <td>102</td>
      <td>15</td>
      <td>0</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>org.axonframework.test.aggregate</td>
      <td>31</td>
      <td>242</td>
      <td>14</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>org.axonframework.test.matchers</td>
      <td>51</td>
      <td>215</td>
      <td>23</td>
      <td>0</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>org.axonframework.test.saga</td>
      <td>43</td>
      <td>196</td>
      <td>15</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>org.axonframework.test.server</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>org.axonframework.test.utils</td>
      <td>8</td>
      <td>24</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>org.axonframework.test.deadline</td>
      <td>10</td>
      <td>117</td>
      <td>6</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>org.axonframework.test.eventscheduler</td>
      <td>9</td>
      <td>66</td>
      <td>5</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>org.axonframework.disruptor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>org.axonframework.disruptor.commandhandling</td>
      <td>55</td>
      <td>269</td>
      <td>21</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>14</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>org.axonframework.modelling</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>org.axonframework.modelling.command</td>
      <td>201</td>
      <td>805</td>
      <td>73</td>
      <td>0</td>
      <td>9</td>
      <td>5</td>
    </tr>
    <tr>
      <th>18</th>
      <td>org.axonframework.modelling.command.inspection</td>
      <td>78</td>
      <td>349</td>
      <td>41</td>
      <td>0</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>19</th>
      <td>org.axonframework.modelling.saga</td>
      <td>111</td>
      <td>551</td>
      <td>55</td>
      <td>0</td>
      <td>9</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>



## Outgoing Dependencies

Outcoming dependencies are also denoted as "Fan-out", "Efferent Couplings" or "out-degree".
These are the ones that are used by the listed package. 

Code from other packages and libraries you’re depending on (outgoing) might change over time. The more outgoing changes, the more likely and frequently code changes are needed. This involves time and effort which can be reduced by automation of tests and version updates. Automated tests are crucial to reveal updates, that change the behavior of the code unexpectedly (“fragile code”). As soon as more effort is required, keeping up becomes difficult (“rigid code”). Not being able to use a newer version might not only restrict features, it can get problematic if there are security issues. This might force you to take “fast but ugly” solutions into account which further increases technical dept.
  
#### Table 3

- Show the top 20 packages with the most outgoing dependencies
- Set the "outgoingDependencies" properties on Package nodes.




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>packageName</th>
      <th>outgoingDependencies</th>
      <th>outgoingDependenciesWeight</th>
      <th>outgoingDependentTypes</th>
      <th>outgoingDependentInterfaces</th>
      <th>outgoingDependentPackages</th>
      <th>outgoingDependentArtifacts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>org.axonframework.test</td>
      <td>8</td>
      <td>16</td>
      <td>7</td>
      <td>0</td>
      <td>4</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>org.axonframework.test.aggregate</td>
      <td>182</td>
      <td>899</td>
      <td>93</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>org.axonframework.test.matchers</td>
      <td>42</td>
      <td>99</td>
      <td>25</td>
      <td>0</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>org.axonframework.test.saga</td>
      <td>147</td>
      <td>627</td>
      <td>78</td>
      <td>0</td>
      <td>17</td>
      <td>3</td>
    </tr>
    <tr>
      <th>6</th>
      <td>org.axonframework.test.server</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>org.axonframework.test.utils</td>
      <td>14</td>
      <td>57</td>
      <td>12</td>
      <td>0</td>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <th>8</th>
      <td>org.axonframework.test.deadline</td>
      <td>26</td>
      <td>169</td>
      <td>20</td>
      <td>0</td>
      <td>7</td>
      <td>2</td>
    </tr>
    <tr>
      <th>9</th>
      <td>org.axonframework.test.eventscheduler</td>
      <td>16</td>
      <td>76</td>
      <td>10</td>
      <td>0</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>10</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>org.axonframework.disruptor</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>org.axonframework.disruptor.commandhandling</td>
      <td>185</td>
      <td>869</td>
      <td>85</td>
      <td>0</td>
      <td>14</td>
      <td>4</td>
    </tr>
    <tr>
      <th>14</th>
      <td>org</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>org.axonframework</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>org.axonframework.modelling</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>org.axonframework.modelling.command</td>
      <td>217</td>
      <td>896</td>
      <td>90</td>
      <td>0</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>18</th>
      <td>org.axonframework.modelling.command.inspection</td>
      <td>157</td>
      <td>721</td>
      <td>73</td>
      <td>0</td>
      <td>10</td>
      <td>2</td>
    </tr>
    <tr>
      <th>19</th>
      <td>org.axonframework.modelling.saga</td>
      <td>125</td>
      <td>524</td>
      <td>60</td>
      <td>0</td>
      <td>9</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>



## Instability

$$ Instability = \frac{Outgoing\:Dependencies}{Outgoing\:Dependencies + Incoming\:Dependencies} $$

*Instability* is expressed as the ratio of the number of outgoing dependencies of a module (i.e., the number of packages that depend on it) to the total number of dependencies (i.e., the sum of incoming and outgoing dependencies).

Small values near zero indicate low *Instability*. With no outgoing but some incoming dependencies the Instability is zero which is denoted as maximally stable. Such code units are more rigid and difficult to change without impacting other parts of the system. If they are changed less because of that, they are considered stable.

Conversely, high values approaching one indicate high *Instability*. With some outgoing dependencies but no incoming ones the *Instability* is denoted as maximally unstable. Such code units are easier to change without affecting other modules, making them more flexible and less prone to cascading changes throughout the system. If they are changed more often because of that, they are considered unstable.

#### Table 4

- Show the top 20 packages with the lowest *Instability*




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>p.fqn</th>
      <th>p.name</th>
      <th>instability</th>
      <th>instabilityTypes</th>
      <th>instabilityInterfaces</th>
      <th>instabilityPackages</th>
      <th>instabilityArtifacts</th>
      <th>p.outgoingDependencies</th>
      <th>p.incomingDependencies</th>
      <th>p.outgoingDependentTypes</th>
      <th>p.incomingDependentTypes</th>
      <th>p.outgoingDependentInterfaces</th>
      <th>p.incomingDependentInterfaces</th>
      <th>p.outgoingDependentPackages</th>
      <th>p.incomingDependentPackages</th>
      <th>p.outgoingDependentArtifacts</th>
      <th>p.incomingDependentArtifacts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>org.axonframework.common</td>
      <td>common</td>
      <td>0.054762</td>
      <td>0.048077</td>
      <td>0.0</td>
      <td>0.015152</td>
      <td>0.142857</td>
      <td>23</td>
      <td>397</td>
      <td>15</td>
      <td>297</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>65</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>org.axonframework.common.transaction</td>
      <td>transaction</td>
      <td>0.075949</td>
      <td>0.065574</td>
      <td>0.0</td>
      <td>0.050000</td>
      <td>0.200000</td>
      <td>6</td>
      <td>73</td>
      <td>4</td>
      <td>57</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>19</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>org.axonframework.common.annotation</td>
      <td>annotation</td>
      <td>0.120000</td>
      <td>0.120000</td>
      <td>0.0</td>
      <td>0.166667</td>
      <td>0.250000</td>
      <td>3</td>
      <td>22</td>
      <td>3</td>
      <td>22</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>10</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>org.axonframework.messaging</td>
      <td>messaging</td>
      <td>0.128978</td>
      <td>0.104478</td>
      <td>0.0</td>
      <td>0.115385</td>
      <td>0.142857</td>
      <td>77</td>
      <td>520</td>
      <td>35</td>
      <td>300</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>46</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>org.axonframework.eventhandling.scheduling</td>
      <td>scheduling</td>
      <td>0.142857</td>
      <td>0.200000</td>
      <td>0.0</td>
      <td>0.285714</td>
      <td>0.250000</td>
      <td>2</td>
      <td>12</td>
      <td>2</td>
      <td>8</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>5</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>org.axonframework.monitoring</td>
      <td>monitoring</td>
      <td>0.189189</td>
      <td>0.155556</td>
      <td>0.0</td>
      <td>0.250000</td>
      <td>0.200000</td>
      <td>14</td>
      <td>60</td>
      <td>7</td>
      <td>38</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>9</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>6</th>
      <td>org.axonframework.lifecycle</td>
      <td>lifecycle</td>
      <td>0.208333</td>
      <td>0.280000</td>
      <td>0.0</td>
      <td>0.250000</td>
      <td>0.333333</td>
      <td>10</td>
      <td>38</td>
      <td>7</td>
      <td>18</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>org.axonframework.common.stream</td>
      <td>stream</td>
      <td>0.238095</td>
      <td>0.176471</td>
      <td>0.0</td>
      <td>0.142857</td>
      <td>0.250000</td>
      <td>5</td>
      <td>16</td>
      <td>3</td>
      <td>14</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>6</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>8</th>
      <td>org.axonframework.messaging.unitofwork</td>
      <td>unitofwork</td>
      <td>0.264574</td>
      <td>0.206186</td>
      <td>0.0</td>
      <td>0.142857</td>
      <td>0.142857</td>
      <td>59</td>
      <td>164</td>
      <td>20</td>
      <td>77</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>30</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>9</th>
      <td>org.axonframework.common.jpa</td>
      <td>jpa</td>
      <td>0.272727</td>
      <td>0.250000</td>
      <td>0.0</td>
      <td>0.300000</td>
      <td>0.200000</td>
      <td>6</td>
      <td>16</td>
      <td>5</td>
      <td>15</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>7</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>10</th>
      <td>org.axonframework.serialization</td>
      <td>serialization</td>
      <td>0.294278</td>
      <td>0.281046</td>
      <td>0.0</td>
      <td>0.272727</td>
      <td>0.200000</td>
      <td>108</td>
      <td>259</td>
      <td>43</td>
      <td>110</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>24</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>11</th>
      <td>org.axonframework.eventhandling.tokenstore</td>
      <td>tokenstore</td>
      <td>0.311475</td>
      <td>0.342105</td>
      <td>0.0</td>
      <td>0.363636</td>
      <td>0.333333</td>
      <td>19</td>
      <td>42</td>
      <td>13</td>
      <td>25</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>7</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>12</th>
      <td>org.axonframework.serialization.upcasting</td>
      <td>upcasting</td>
      <td>0.312500</td>
      <td>0.083333</td>
      <td>0.0</td>
      <td>0.333333</td>
      <td>0.500000</td>
      <td>5</td>
      <td>11</td>
      <td>1</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>org.axonframework.tracing</td>
      <td>tracing</td>
      <td>0.329480</td>
      <td>0.289157</td>
      <td>0.0</td>
      <td>0.380952</td>
      <td>0.200000</td>
      <td>57</td>
      <td>116</td>
      <td>24</td>
      <td>59</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>13</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>14</th>
      <td>org.axonframework.test</td>
      <td>test</td>
      <td>0.333333</td>
      <td>0.318182</td>
      <td>0.0</td>
      <td>0.400000</td>
      <td>0.666667</td>
      <td>8</td>
      <td>16</td>
      <td>7</td>
      <td>15</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>6</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>15</th>
      <td>org.axonframework.commandhandling</td>
      <td>commandhandling</td>
      <td>0.350365</td>
      <td>0.364583</td>
      <td>0.0</td>
      <td>0.333333</td>
      <td>0.142857</td>
      <td>144</td>
      <td>267</td>
      <td>70</td>
      <td>122</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>18</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>16</th>
      <td>org.axonframework.messaging.annotation</td>
      <td>annotation</td>
      <td>0.353535</td>
      <td>0.312500</td>
      <td>0.0</td>
      <td>0.233333</td>
      <td>0.142857</td>
      <td>175</td>
      <td>320</td>
      <td>65</td>
      <td>143</td>
      <td>0</td>
      <td>0</td>
      <td>7</td>
      <td>23</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>17</th>
      <td>org.axonframework.common.jdbc</td>
      <td>jdbc</td>
      <td>0.356164</td>
      <td>0.439024</td>
      <td>0.0</td>
      <td>0.363636</td>
      <td>0.200000</td>
      <td>26</td>
      <td>47</td>
      <td>18</td>
      <td>23</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>7</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>18</th>
      <td>org.axonframework.common.lock</td>
      <td>lock</td>
      <td>0.375000</td>
      <td>0.375000</td>
      <td>0.0</td>
      <td>0.250000</td>
      <td>0.200000</td>
      <td>24</td>
      <td>40</td>
      <td>12</td>
      <td>20</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>6</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>19</th>
      <td>org.axonframework.eventsourcing.snapshotting</td>
      <td>snapshotting</td>
      <td>0.380952</td>
      <td>0.411765</td>
      <td>0.0</td>
      <td>0.444444</td>
      <td>0.500000</td>
      <td>8</td>
      <td>13</td>
      <td>7</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>5</td>
      <td>2</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>



## Abstractness

$$ Abstractness = \frac{abstract\:classes\:in\:category}{total\:number\:of\:classes\:in\:category} $$

Package *Abstractness* is expressed as the ratio of the number of abstract classes and interfaces to the total number of classes of a package.

Zero *Abstractness* means that there are no abstract types or interfaces in the package. On the other hand, a value of one means that there are only abstract types.

#### Table 5

- Show the top 30 packages with the lowest *Abstractness*




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fullQualifiedPackageName</th>
      <th>packageName</th>
      <th>abstractness</th>
      <th>numberAbstractTypes</th>
      <th>numberTypes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>org.axonframework.commandhandling.distributed....</td>
      <td>commandfilter</td>
      <td>0.000000</td>
      <td>0</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>org.axonframework.serialization.json</td>
      <td>json</td>
      <td>0.000000</td>
      <td>0</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>org.axonframework.serialization.xml</td>
      <td>xml</td>
      <td>0.000000</td>
      <td>0</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>org.axonframework.tracing.attributes</td>
      <td>attributes</td>
      <td>0.000000</td>
      <td>0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>org.axonframework.serialization.converters</td>
      <td>converters</td>
      <td>0.000000</td>
      <td>0</td>
      <td>5</td>
    </tr>
    <tr>
      <th>5</th>
      <td>org.axonframework.commandhandling.callbacks</td>
      <td>callbacks</td>
      <td>0.000000</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>6</th>
      <td>org.axonframework.deadline.quartz</td>
      <td>quartz</td>
      <td>0.000000</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>7</th>
      <td>org.axonframework.eventhandling.deadletter</td>
      <td>deadletter</td>
      <td>0.000000</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>org.axonframework.eventhandling.scheduling.java</td>
      <td>java</td>
      <td>0.000000</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>9</th>
      <td>org.axonframework.eventhandling.tokenstore.jpa</td>
      <td>jpa</td>
      <td>0.000000</td>
      <td>0</td>
      <td>4</td>
    </tr>
    <tr>
      <th>10</th>
      <td>org.axonframework.util</td>
      <td>util</td>
      <td>0.000000</td>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>11</th>
      <td>org.axonframework.test.server</td>
      <td>server</td>
      <td>0.000000</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>12</th>
      <td>org.axonframework.modelling.saga.repository.in...</td>
      <td>inmemory</td>
      <td>0.000000</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>13</th>
      <td>org.axonframework.eventhandling.tokenstore.inm...</td>
      <td>inmemory</td>
      <td>0.000000</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>14</th>
      <td>org.axonframework.eventsourcing.eventstore.inm...</td>
      <td>inmemory</td>
      <td>0.000000</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>15</th>
      <td>org.axonframework.common.digest</td>
      <td>digest</td>
      <td>0.000000</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>org.axonframework.common.io</td>
      <td>io</td>
      <td>0.000000</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>17</th>
      <td>org.axonframework.eventhandling.interceptors</td>
      <td>interceptors</td>
      <td>0.000000</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>18</th>
      <td>org.axonframework.disruptor.commandhandling</td>
      <td>commandhandling</td>
      <td>0.045455</td>
      <td>1</td>
      <td>22</td>
    </tr>
    <tr>
      <th>19</th>
      <td>org.axonframework.modelling.saga.repository.jdbc</td>
      <td>jdbc</td>
      <td>0.111111</td>
      <td>1</td>
      <td>9</td>
    </tr>
    <tr>
      <th>20</th>
      <td>org.axonframework.eventhandling.deadletter.jpa</td>
      <td>jpa</td>
      <td>0.111111</td>
      <td>1</td>
      <td>9</td>
    </tr>
    <tr>
      <th>21</th>
      <td>org.axonframework.eventhandling.tokenstore.jdbc</td>
      <td>jdbc</td>
      <td>0.111111</td>
      <td>1</td>
      <td>9</td>
    </tr>
    <tr>
      <th>22</th>
      <td>org.axonframework.test.matchers</td>
      <td>matchers</td>
      <td>0.125000</td>
      <td>3</td>
      <td>24</td>
    </tr>
    <tr>
      <th>23</th>
      <td>org.axonframework.eventhandling.async</td>
      <td>async</td>
      <td>0.133333</td>
      <td>2</td>
      <td>15</td>
    </tr>
    <tr>
      <th>24</th>
      <td>org.axonframework.modelling.saga.repository.jpa</td>
      <td>jpa</td>
      <td>0.142857</td>
      <td>1</td>
      <td>7</td>
    </tr>
    <tr>
      <th>25</th>
      <td>org.axonframework.eventsourcing.eventstore.jpa</td>
      <td>jpa</td>
      <td>0.142857</td>
      <td>1</td>
      <td>7</td>
    </tr>
    <tr>
      <th>26</th>
      <td>org.axonframework.test.aggregate</td>
      <td>aggregate</td>
      <td>0.157895</td>
      <td>3</td>
      <td>19</td>
    </tr>
    <tr>
      <th>27</th>
      <td>org.axonframework.eventhandling.scheduling.quartz</td>
      <td>quartz</td>
      <td>0.166667</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>28</th>
      <td>org.axonframework.common.lock</td>
      <td>lock</td>
      <td>0.181818</td>
      <td>2</td>
      <td>11</td>
    </tr>
    <tr>
      <th>29</th>
      <td>org.axonframework.eventhandling.replay</td>
      <td>replay</td>
      <td>0.200000</td>
      <td>2</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>



## Distance from the main sequence

The *main sequence* is a imaginary line that represents a good compromise between *Abstractness* and *Instability*. A high distance to this line may indicate problems. For example is very *stable* (rigid) code with low abstractness hard to change.

Read more details on that in [OO Design Quality Metrics](https://api.semanticscholar.org/CorpusID:18246616) and [Calculate metrics](https://101.jqassistant.org/calculate-metrics/index.html).

#### Table 6

- Show the top 30 packages with the highest distance from the "main sequence"




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>artifactName</th>
      <th>fullQualifiedPackageName</th>
      <th>packageName</th>
      <th>distance</th>
      <th>abstractness</th>
      <th>instability</th>
      <th>typesInPackage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>axon-test-4.6.8</td>
      <td>org.axonframework.test.server</td>
      <td>server</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.io</td>
      <td>io</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.digest</td>
      <td>digest</td>
      <td>0.500000</td>
      <td>0.000000</td>
      <td>0.500000</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>axon-eventsourcing-4.6.8</td>
      <td>org.axonframework.eventsourcing.eventstore.jdb...</td>
      <td>statements</td>
      <td>0.482759</td>
      <td>1.000000</td>
      <td>0.482759</td>
      <td>15</td>
    </tr>
    <tr>
      <th>4</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.monitoring</td>
      <td>monitoring</td>
      <td>0.477477</td>
      <td>0.333333</td>
      <td>0.189189</td>
      <td>6</td>
    </tr>
    <tr>
      <th>5</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.jpa</td>
      <td>jpa</td>
      <td>0.477273</td>
      <td>0.250000</td>
      <td>0.272727</td>
      <td>4</td>
    </tr>
    <tr>
      <th>6</th>
      <td>axon-test-4.6.8</td>
      <td>org.axonframework.test</td>
      <td>test</td>
      <td>0.466667</td>
      <td>0.200000</td>
      <td>0.333333</td>
      <td>5</td>
    </tr>
    <tr>
      <th>7</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.messaging.unitofwork</td>
      <td>unitofwork</td>
      <td>0.449712</td>
      <td>0.285714</td>
      <td>0.264574</td>
      <td>14</td>
    </tr>
    <tr>
      <th>8</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.lock</td>
      <td>lock</td>
      <td>0.443182</td>
      <td>0.181818</td>
      <td>0.375000</td>
      <td>11</td>
    </tr>
    <tr>
      <th>9</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.transaction</td>
      <td>transaction</td>
      <td>0.424051</td>
      <td>0.500000</td>
      <td>0.075949</td>
      <td>4</td>
    </tr>
    <tr>
      <th>10</th>
      <td>axon-test-4.6.8</td>
      <td>org.axonframework.test.matchers</td>
      <td>matchers</td>
      <td>0.423387</td>
      <td>0.125000</td>
      <td>0.451613</td>
      <td>24</td>
    </tr>
    <tr>
      <th>11</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.tracing</td>
      <td>tracing</td>
      <td>0.420520</td>
      <td>0.250000</td>
      <td>0.329480</td>
      <td>16</td>
    </tr>
    <tr>
      <th>12</th>
      <td>axon-modelling-4.6.8</td>
      <td>org.axonframework.modelling.saga.repository.in...</td>
      <td>inmemory</td>
      <td>0.416667</td>
      <td>0.000000</td>
      <td>0.583333</td>
      <td>2</td>
    </tr>
    <tr>
      <th>13</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.eventhandling.tokenstore</td>
      <td>tokenstore</td>
      <td>0.402810</td>
      <td>0.285714</td>
      <td>0.311475</td>
      <td>7</td>
    </tr>
    <tr>
      <th>14</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.serialization.xml</td>
      <td>xml</td>
      <td>0.400000</td>
      <td>0.000000</td>
      <td>0.600000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>15</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.serialization</td>
      <td>serialization</td>
      <td>0.393222</td>
      <td>0.312500</td>
      <td>0.294278</td>
      <td>32</td>
    </tr>
    <tr>
      <th>16</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.commandhandling.callbacks</td>
      <td>callbacks</td>
      <td>0.380952</td>
      <td>0.000000</td>
      <td>0.619048</td>
      <td>4</td>
    </tr>
    <tr>
      <th>17</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.commandhandling.distributed....</td>
      <td>commandfilter</td>
      <td>0.375000</td>
      <td>0.000000</td>
      <td>0.625000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>18</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.messaging.annotation</td>
      <td>annotation</td>
      <td>0.371955</td>
      <td>0.274510</td>
      <td>0.353535</td>
      <td>51</td>
    </tr>
    <tr>
      <th>19</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.util</td>
      <td>util</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>3</td>
    </tr>
    <tr>
      <th>20</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.eventhandling.async</td>
      <td>async</td>
      <td>0.316667</td>
      <td>0.133333</td>
      <td>0.550000</td>
      <td>15</td>
    </tr>
    <tr>
      <th>21</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common</td>
      <td>common</td>
      <td>0.302381</td>
      <td>0.642857</td>
      <td>0.054762</td>
      <td>28</td>
    </tr>
    <tr>
      <th>22</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.messaging.correlation</td>
      <td>correlation</td>
      <td>0.300000</td>
      <td>0.250000</td>
      <td>0.450000</td>
      <td>4</td>
    </tr>
    <tr>
      <th>23</th>
      <td>axon-eventsourcing-4.6.8</td>
      <td>org.axonframework.eventsourcing.snapshotting</td>
      <td>snapshotting</td>
      <td>0.285714</td>
      <td>0.333333</td>
      <td>0.380952</td>
      <td>3</td>
    </tr>
    <tr>
      <th>24</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.common.property</td>
      <td>property</td>
      <td>0.271930</td>
      <td>0.333333</td>
      <td>0.394737</td>
      <td>9</td>
    </tr>
    <tr>
      <th>25</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.messaging</td>
      <td>messaging</td>
      <td>0.271022</td>
      <td>0.600000</td>
      <td>0.128978</td>
      <td>35</td>
    </tr>
    <tr>
      <th>26</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.commandhandling</td>
      <td>commandhandling</td>
      <td>0.270325</td>
      <td>0.379310</td>
      <td>0.350365</td>
      <td>29</td>
    </tr>
    <tr>
      <th>27</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.eventhandling.gateway</td>
      <td>gateway</td>
      <td>0.256250</td>
      <td>0.600000</td>
      <td>0.656250</td>
      <td>5</td>
    </tr>
    <tr>
      <th>28</th>
      <td>axon-configuration-4.6.8</td>
      <td>org.axonframework.config</td>
      <td>config</td>
      <td>0.223720</td>
      <td>0.435897</td>
      <td>0.787823</td>
      <td>39</td>
    </tr>
    <tr>
      <th>29</th>
      <td>axon-messaging-4.6.8</td>
      <td>org.axonframework.eventhandling.tokenstore.jpa</td>
      <td>jpa</td>
      <td>0.218750</td>
      <td>0.000000</td>
      <td>0.781250</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>



### *Abstractness* vs. *Instability* Plot with "Main Sequence" line as reference

#### Figure 1
- Plot *Abstractness* vs. *Instability* of all packages
- Draw the "main sequence" as dashed green line 
- Scale the packages by the number of types they contain
- Color the packages by their distance to the "main sequence" (blue=near, red=far)




    'server'




    
![png](ObjectOrientedDesignMetrics_files/ObjectOrientedDesignMetrics_20_0.png)
    

